--- origsrc/glew/Makefile	2009-02-03 22:35:59.956875000 -0600
+++ src/glew/Makefile	2009-02-03 22:35:33.347500000 -0600
@@ -85,7 +85,7 @@ lib/$(LIB.STATIC): $(LIB.OBJS)
 
 lib/$(LIB.SHARED): $(LIB.SOBJS)
 	$(LD) $(LDFLAGS.SO) -o $@ $^ $(LIB.LDFLAGS) $(LIB.LIBS)
-ifeq ($(patsubst mingw%,mingw,$(SYSTEM)), mingw)
+ifeq (,$(filter-out mingw% cygwin,$(SYSTEM)))
 else
 	$(LN) $(LIB.SHARED) lib/$(LIB.SONAME)
 	$(LN) $(LIB.SHARED) lib/$(LIB.DEVLNK)
@@ -112,7 +112,7 @@ install: all
 	$(INSTALL) -d -m 0755 $(INCDIR)
 	$(INSTALL) -d -m 0755 $(LIBDIR)
 # runtime
-ifeq ($(patsubst mingw%,mingw,$(SYSTEM)), mingw)
+ifeq (,$(filter-out mingw% cygwin,$(SYSTEM)))
 	$(STRIP) -x lib/$(LIB.SHARED)
 	$(INSTALL) -m 0644 lib/$(LIB.SHARED) $(BINDIR)/
 else
@@ -124,7 +124,7 @@ endif
 	$(INSTALL) -m 0644 include/GL/wglew.h $(INCDIR)/
 	$(INSTALL) -m 0644 include/GL/glew.h $(INCDIR)/
 	$(INSTALL) -m 0644 include/GL/glxew.h $(INCDIR)/
-ifeq ($(patsubst mingw%,mingw,$(SYSTEM)), mingw)
+ifeq (,$(filter-out mingw% cygwin,$(SYSTEM)))
 	$(INSTALL) -m 0644 lib/$(LIB.DEVLNK) $(LIBDIR)/
 else
 	strip -x lib/$(LIB.STATIC)
@@ -139,7 +139,7 @@ uninstall:
 	$(RM) $(INCDIR)/glew.h
 	$(RM) $(INCDIR)/glxew.h
 	$(RM) $(LIBDIR)/$(LIB.DEVLNK)
-ifeq ($(patsubst mingw%,mingw,$(SYSTEM)), mingw)
+ifeq (,$(filter-out mingw% cygwin,$(SYSTEM)))
 	$(RM) $(BINDIR)/$(LIB.SHARED)
 else
 	$(RM) $(LIBDIR)/$(LIB.SONAME)
--- origsrc/glew/config/Makefile.cygwin	2009-02-03 22:36:07.956875000 -0600
+++ src/glew/config/Makefile.cygwin	2009-02-03 22:27:24.206875000 -0600
@@ -6,16 +6,16 @@ LD = cc
 ifneq (undefined, $(origin GLEW_MX))
 CFLAGS.EXTRA = -DGLEW_MX
 endif
-LDFLAGS.SO = -shared -Wl,-soname=$(LIB.SONAME)
-LDFLAGS.EXTRA = -L/usr/X11R6/lib
+LDFLAGS.SO = -shared -Wl,--enable-auto-image-base,--out-implib,lib/$(LIB.DEVLNK)
+LDFLAGS.EXTRA = -Wl,--enable-auto-import
 LIBDIR = $(GLEW_DEST)/lib
 LDFLAGS.GL = -lXmu -lXi -lGLU -lGL -lXext -lX11
 LDFLAGS.STATIC = -Wl,-Bstatic
 LDFLAGS.DYNAMIC = -Wl,-Bdynamic
 WARN = -Wall -W
 POPT = -O2
-BIN.SUFFIX =
-LIB.SONAME = lib$(NAME).so.$(SO_MAJOR)
-LIB.DEVLNK = lib$(NAME).so
-LIB.SHARED = lib$(NAME).so.$(SO_VERSION)
+BIN.SUFFIX = .exe
+LIB.SONAME = cyg$(NAME)-$(SO_MAJOR).dll
+LIB.DEVLNK = lib$(NAME).dll.a
+LIB.SHARED = cyg$(NAME)-$(SO_MAJOR).dll
 LIB.STATIC = lib$(NAME).a
